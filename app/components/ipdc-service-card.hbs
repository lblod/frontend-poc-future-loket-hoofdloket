{{!-- TODO: @model.favorite --}}

<AuCard {{on "click" (fn @onClick @model)}} @size="small" class="c-overview-card c-overview-card--link" as |card|>
  <card.header>
    <div class="c-overview-card__header">
      <div class="au-u-flex au-u-flex--vertical-center au-u-flex--spaced-tiny">
        <Favorite @active={{@model.favorite}} />
        <div class="au-u-h6 au-u-medium c-overview-card__link">
          {{@model.name.default}}
        </div>
      </div>
      <div class="au-u-flex au-u-flex--spaced-tiny au-u-flex--vertical-center">
        <div class="au-u-flex au-u-flex--spaced-tiny au-u-flex--wrap">
          {{#if @model.endDate}}
            <AuPill @skin="warning" @size="small">Deadline: {{format-date @model.endDate}}</AuPill>
          {{else}}
            <AuPill @skin="default" @size="small">Deadline: onbekend</AuPill>
          {{/if}}
          {{#if @model.thematicAreas}}
            {{#each @model.thematicAreas as |theme|}}
              {{#let (load theme.broader) as |parents|}}
                {{#if parents.isResolved}}
                  <AuPill @skin="border" @size="small">
                    {{get (get parents.value 0) "label"}}
                  </AuPill>
                {{/if}}
              {{/let}}
            {{/each}}
          {{/if}}
          {{#if @model.type}}
            {{#let (load @model.type.broader) as |parents|}}
              {{#if parents.isResolved}}
                <AuPill @skin="border" @size="small">
                  {{get (get parents.value 0) "label"}}
                </AuPill>
              {{/if}}
            {{/let}}
          {{/if}}
        </div>
      </div>
    </div>
  </card.header>
</AuCard>