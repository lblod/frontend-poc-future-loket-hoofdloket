{{page-title "Loket voor lokale besturen"}}

<LayoutHome>
  <AuBodyContainer class="au-u-background-gray-100">
    <section class="c-landing">
      <div class="au-o-flow">
        {{!-- TODO replace with user's organization name --}}
        <AuHeading @level="1" @skin="2">Gemeente Aalter</AuHeading>
        <p class="au-u-para landing-intro">Indien u toegang mist tot een van de modules in het loket, neem contact op met uw interne beheerder. Indien er zich een probleem voordoet met toegang, neem contact op met het gebruikersbeheer Vlaanderen.</p>
      </div>

      <div class="search-container au-u-margin-top-large">
        <form {{on "submit" this.search}} class="c-navigation-search">
          <div>
            <AuLabel for="search">Wat zoek je?</AuLabel>
            <AuInput
              id="search"
              value={{this.searchTerm}}
              placeholder="Zoek op naam, beschrijving of thema van een product of dienst"
              @width="block"
              {{on "input" this.updateSearchTerm}}
            />
          </div>
          {{#if this.searchTerm}}
            <AuButton
              @skin="secondary"
              {{on "click" this.resetSearch}}>
              <AuIcon @icon="cross" />
              <span class="au-u-hidden-visually">close</span>
            </AuButton>
          {{/if}}
          <AuLink
            @route="products"
            @skin="button"
            @icon="search"
            @iconAlignment="left"
          >
            Zoek
          </AuLink>
        </form>
        <div class="au-u-flex au-u-flex--wrap au-u-flex--spaced-tiny au-u-padding-top-tiny">
          {{#each this.suggestions as |suggestion|}}
            <AuPill>{{suggestion}}</AuPill>
          {{/each}}
        </div>
      </div>

      {{#if @model.length}}
        <div class="favorites-container au-u-margin-top-large">
          <AuHeading @level="2" @skin="3">Favorieten</AuHeading>
          <ul class="au-u-flex au-u-flex--wrap au-u-flex--spaced-tiny au-u-padding-top-tiny">
            {{#each @model as |product|}}
              <li class="favorite-card">
                <AuIcon @icon='star-filled' />
                <LinkTo
                  @route="products.product"
                  @model={{product.id}}
                  class="favorite-title au-u-medium">
                  {{product.name.default}}
                </LinkTo>
                {{!-- <AuLink
                  @skin="button-naked"
                  @icon="three-dots"
                  @route="products.product"
                  @model={{product.id}}
                  @hideText={{true}} /> --}}

                <AuLinkExternal
                  href={{product.website.url}}
                  @skin="naked"
                  @icon="external-link"
                  @iconAlignment="right">
                </AuLinkExternal>
              </li>
            {{/each}}
          </ul>
        </div>
      {{/if}}
    </section>
  </AuBodyContainer>
</LayoutHome>
